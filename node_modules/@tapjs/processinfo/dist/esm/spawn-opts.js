import { nodeOptionsEnv } from './node-options-env.js';
const p = process;
export const spawnOpts = (options, exclude) => {
    const { externalID, ...rest } = options;
    const env = { ...(options.env || p.env) };
    env.NODE_OPTIONS = nodeOptionsEnv(env);
    if (externalID) {
        env._TAPJS_PROCESSINFO_EXTERNAL_ID_ = externalID;
    }
    if (exclude) {
        env._TAPJS_PROCESSINFO_EXCLUDE_ = String(exclude);
    }
    return { ...rest, env };
};
//# sourceMappingURL=spawn-opts.js.map